{# Generator Dropdown Partial #}
{#
   Usage:
   {% include "prompts/partials/_generator_dropdown.html" with current_generator="midjourney" current_name="Midjourney" %}

   Parameters:
   - current_generator: slug of currently selected generator (optional, omit for "All Platforms")
   - current_name: display name of current generator (optional, defaults to "All Platforms")
   - ai_generators: dict of all generators (required in context)
#}

<div class="gen-dropdown platform-dropdown" id="platformDropdown">
    <button class="gen-dropdown-btn" id="platformDropdownBtn" aria-haspopup="true" aria-expanded="false" aria-label="Select AI platform">
        <i class="fas fa-robot" style="font-size: 14px;"></i>
        <span>{{ current_name|default:"All Platforms" }}</span>
        <svg class="gen-dropdown-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none">
            <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    <div class="gen-dropdown-menu" id="platformDropdownMenu" role="menu">
        <a href="{% url 'prompts:prompts_hub' %}" class="gen-dropdown-item{% if not current_generator %} active{% endif %}" role="menuitem">
            <i class="fas fa-th-large me-2" style="width: 16px;"></i>
            View All Platforms
        </a>
        <div class="gen-dropdown-divider"></div>
        {% for slug, gen in ai_generators.items %}
        <a href="{% url 'prompts:ai_generator_category' slug %}"
           class="gen-dropdown-item{% if slug == current_generator %} active{% endif %}"
           role="menuitem">
            {{ gen.name }}
        </a>
        {% endfor %}
    </div>
</div>
